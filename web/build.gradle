/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */
plugins {
    id "com.moowork.node" version "1.3.1"
}

task cnpmInstall(type: NpmTask) {
    group = "node"
    args = ['install']
}

task npmBuild(type: NpmTask, dependsOn: cnpmInstall) {
    inputs.files(fileTree('config'))
    inputs.files(fileTree('src'))
    inputs.files(fileTree('static'))
    inputs.files(fileTree('build'))
    inputs.files(fileTree('package.json'))
    inputs.files(fileTree('package-lock.json'))

    outputs.files(fileTree('dist'))

    group = "node"
    args = ['run', 'build']
}


task npmDev(type: NpmTask, dependsOn: cnpmInstall) {
    group = "node"
    args = ['run', 'serve']
}